[buildout]
extends = base.cfg
parts = ${buildout:readline-parts}
readline-parts =
    readline-patch
    readline

[readline-patch]
recipe = z3c.recipe.runscript
url = http://ftp.gnu.org/gnu/readline/readline-5.2-patches
install-script = ${buildout:directory}/bin/fetch-readline-patches.py:fetch
update-script = ${readline-patch:install-script}

[readline]
recipe = zc.recipe.cmmi
url = http://ftp.gnu.org/gnu/readline/readline-5.2.tar.gz
patch = ${readline-patch:prefix}/readline.patch
extra_options =
    --prefix=${opt:location}
